@model System.Data.DataTable
@{
    ViewBag.Title = "Leads Information";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int i = 1;
}

<div class="box">
    <div class="box-header with-border">
        <div>
            <button type="button" class="btn btn-primary btn-sm">Print</button>
            <button type="button" class="btn btn-success btn-sm">Excel</button>
            <button type="button" class="btn btn-danger btn-sm">PDF</button>
        </div>
        <div class="box-controls pull-right">
            <div class="lookup lookup-circle lookup-right">
                <input type="text" name="s" id="filterInput">
            </div>
        </div>
    </div>
    <!-- /.box-header -->
    <div class="box-body ">
        <h4 class=""><strong>@(General.CompanyInformation)</strong></h4>
        <h5 class="">Leads Information</h5>
        <div class="table-responsive">
            <table class="table table-hover" id="myTable">
                <thead>
                    <tr>
                        <th>Sr#</th>
                        <th>Name</th>
                        <th>Phone No</th>
                        <th>Email</th>
                        <th>Source</th>
                        <th>Claim</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        foreach (System.Data.DataRow item in ((System.Data.DataTable)Model).Rows)
                        {
                            <tr>
                                <td>@(i++)</td>
                                <td>@(item["FirstName"]) @(item["LastName"])</td>
                                <td>@(item["PhoneNo"])</td>
                                <td>@(item["EmailAddress"])</td>
                                <td>@(item["ApiSource"])</td>
                                @{ 
                                    bool flag = false;
                                    bool.TryParse(item["isClaimLead"].ToString(), out flag);
                                }
                                <td><span class="badge badge-pill badge-@((!flag? "danger" : "success"))">@((!flag? "Pending" : "Claimed"))</span></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!-- /.box-body -->
</div>

<script>
    $(document).ready(function () {
        $('#filterInput').on('keyup', function () {
            var searchText = $(this).val().toLowerCase(); // Get the value entered by the user and convert to lowercase for case-insensitive search
            $('#myTable tbody tr').each(function () {
                var rowText = $(this).text().toLowerCase(); // Get the text content of the row and convert to lowercase
                if (rowText.indexOf(searchText) === -1) { // Check if the row contains the search text
                    $(this).hide(); // If not, hide the row
                } else {
                    $(this).show(); // If it matches, show the row
                }
            });
        });
    });

</script>